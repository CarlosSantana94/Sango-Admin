<ion-header>
    <ion-toolbar color="primary">
        <ion-title>Users</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <!-- Search bar -->
    <ion-searchbar
            [(ngModel)]="searchTerm"
            (ionInput)="buscarUsuario()"
            placeholder="Buscar por nombre o email">
    </ion-searchbar>

    <ion-grid>
        <ion-row>
            <ion-col size="6" *ngFor="let user of usuariosFiltrados">
                <ion-card>
                    <ion-card-header>
                        <ion-avatar>
                            <img [src]="user.img" alt="{{ user.nombre }}" />
                        </ion-avatar>
                    </ion-card-header>
                    <ion-card-content>
                        <h2>{{ user.nombre }}</h2>
                        <p>{{ user.email }}</p>

                        <ion-item lines="none">
                            <ion-label>Permitir pago con tarjeta</ion-label>
                            <ion-toggle
                                    [(ngModel)]="user.puedePagarConCC"
                                    (ionChange)="cambiarEstadoPago(user)"
                            ></ion-toggle>
                        </ion-item>
                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
